{
  "models": [
    {
      "name": "quadcopter_nonlinear",
      "description": "A nonlinear model of a quadcopter capturing rotor dynamics, aerodynamic forces, and control inputs.",
      "parameters": [
        {
          "port": {
            "dimension": [
              1
            ],
            "name": "mass",
            "unit": "kg",
            "description": "Mass of the quadcopter."
          },
          "value": [
            1.5
          ]
        },
        {
          "port": {
            "dimension": [
              1
            ],
            "name": "gravity",
            "unit": "m/s^2",
            "description": "Acceleration due to gravity."
          },
          "value": [
            9.81
          ]
        },
        {
          "port": {
            "dimension": [
              1
            ],
            "name": "arm_length",
            "unit": "m",
            "description": "Distance from the center to the rotor."
          },
          "value": [
            0.25
          ]
        },
        {
          "port": {
            "dimension": [
              1
            ],
            "name": "drag_coefficient",
            "unit": "",
            "description": "Aerodynamic drag coefficient."
          },
          "value": [
            0.1
          ]
        }
      ],
      "inputs": [
        {
          "dimension": [
            1
          ],
          "name": "thrust",
          "unit": "N",
          "description": "Total thrust generated by the rotors."
        },
        {
          "dimension": [
            1
          ],
          "name": "torque_x",
          "unit": "Nm",
          "description": "Torque around the x-axis."
        },
        {
          "dimension": [
            1
          ],
          "name": "torque_y",
          "unit": "Nm",
          "description": "Torque around the y-axis."
        },
        {
          "dimension": [
            1
          ],
          "name": "torque_z",
          "unit": "Nm",
          "description": "Torque around the z-axis."
        }
      ],
      "outputs": [
        {
          "dimension": [
            1
          ],
          "name": "position_x",
          "unit": "m",
          "description": "Position along the x-axis."
        },
        {
          "dimension": [
            1
          ],
          "name": "position_y",
          "unit": "m",
          "description": "Position along the y-axis."
        },
        {
          "dimension": [
            1
          ],
          "name": "position_z",
          "unit": "m",
          "description": "Position along the z-axis."
        }
      ],
      "states": [
        {
          "dimension": [
            1
          ],
          "name": "velocity_x",
          "unit": "m/s",
          "description": "Velocity along the x-axis."
        },
        {
          "dimension": [
            1
          ],
          "name": "velocity_y",
          "unit": "m/s",
          "description": "Velocity along the y-axis."
        },
        {
          "dimension": [
            1
          ],
          "name": "velocity_z",
          "unit": "m/s",
          "description": "Velocity along the z-axis."
        },
        {
          "dimension": [
            1
          ],
          "name": "orientation_phi",
          "unit": "rad",
          "description": "Roll angle."
        },
        {
          "dimension": [
            1
          ],
          "name": "orientation_theta",
          "unit": "rad",
          "description": "Pitch angle."
        },
        {
          "dimension": [
            1
          ],
          "name": "orientation_psi",
          "unit": "rad",
          "description": "Yaw angle."
        },
        {
          "dimension": [
            1
          ],
          "name": "angular_velocity_x",
          "unit": "rad/s",
          "description": "Angular velocity around the x-axis."
        },
        {
          "dimension": [
            1
          ],
          "name": "angular_velocity_y",
          "unit": "rad/s",
          "description": "Angular velocity around the y-axis."
        },
        {
          "dimension": [
            1
          ],
          "name": "angular_velocity_z",
          "unit": "rad/s",
          "description": "Angular velocity around the z-axis."
        }
      ],
      "equations": {
        "linear_model": null,
        "nonlinear_model": {
          "dynamics_python": "def dynamics(t, x, u, params):\n    # Unpack states\n    velocity_x, velocity_y, velocity_z = x[0], x[1], x[2]\n    orientation_phi, orientation_theta, orientation_psi = x[3], x[4], x[5]\n    angular_velocity_x, angular_velocity_y, angular_velocity_z = x[6], x[7], x[8]\n\n    # Unpack inputs\n    thrust, torque_x, torque_y, torque_z = u[0], u[1], u[2], u[3]\n\n    # Unpack parameters\n    mass = params['mass']\n    gravity = params['gravity']\n    arm_length = params['arm_length']\n    drag_coefficient = params['drag_coefficient']\n\n    # Dynamics equations\n    # Translational dynamics\n    acceleration_x = (thrust / mass) * (sin(orientation_theta) * cos(orientation_psi)) - drag_coefficient * velocity_x\n    acceleration_y = (thrust / mass) * (sin(orientation_theta) * sin(orientation_psi)) - drag_coefficient * velocity_y\n    acceleration_z = (thrust / mass) * cos(orientation_theta) - gravity - drag_coefficient * velocity_z\n\n    # Rotational dynamics\n    angular_acceleration_x = torque_x / (mass * arm_length)\n    angular_acceleration_y = torque_y / (mass * arm_length)\n    angular_acceleration_z = torque_z / (mass * arm_length)\n\n    # Return state derivatives\n    return [acceleration_x, acceleration_y, acceleration_z,\n            angular_velocity_x, angular_velocity_y, angular_velocity_z,\n            angular_acceleration_x, angular_acceleration_y, angular_acceleration_z]",
          "output_python": "def outputs(t, x, u, params):\n    # Unpack states\n    position_x, position_y, position_z = x[0], x[1], x[2]\n\n    # Return outputs\n    return [position_x, position_y, position_z]"
        },
        "algebraic_model": null,
        "packages": [
          "import numpy as np",
          "import control as ct"
        ]
      }
    }
  ],
  "subsystems": []
}